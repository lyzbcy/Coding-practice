# LeetCode 274. H æŒ‡æ•° - è¯¦ç»†æ•™å­¦æ–‡æ¡£

## ğŸ“š ç›®å½•

1. [é—®é¢˜åˆ†æ](#é—®é¢˜åˆ†æ)
2. [æ€è·¯è§£æ](#æ€è·¯è§£æ)
3. [ç®—æ³•è¯¦è§£](#ç®—æ³•è¯¦è§£)
4. [ä»£ç å®ç°](#ä»£ç å®ç°)
5. [å¤æ‚åº¦åˆ†æ](#å¤æ‚åº¦åˆ†æ)
6. [å¸¸è§é”™è¯¯](#å¸¸è§é”™è¯¯)
7. [æ‰©å±•æ€è€ƒ](#æ‰©å±•æ€è€ƒ)

---

## é—®é¢˜åˆ†æ

### é¢˜ç›®è¦æ±‚

- ç»™å®šæ•°ç»„ `citations`ï¼Œå…¶ä¸­ `citations[i]` è¡¨ç¤ºç¬¬ `i` ç¯‡è®ºæ–‡è¢«å¼•ç”¨çš„æ¬¡æ•°
- è®¡ç®—ç ”ç©¶è€…çš„ **h æŒ‡æ•°**
- h æŒ‡æ•°å®šä¹‰ï¼šè‡³å°‘æœ‰ `h` ç¯‡è®ºæ–‡çš„å¼•ç”¨æ¬¡æ•° â‰¥ `h`ï¼Œä¸” `h` æ˜¯æ»¡è¶³æ¡ä»¶çš„æœ€å¤§å€¼

### å…³é”®çº¦æŸ

1. **æ•°ç»„é•¿åº¦**ï¼š`1 <= n <= 5000`
2. **å¼•ç”¨æ¬¡æ•°èŒƒå›´**ï¼š`0 <= citations[i] <= 1000`
3. **è¾¹ç•Œæƒ…å†µ**ï¼šæ‰€æœ‰è®ºæ–‡å¼•ç”¨æ¬¡æ•°éƒ½ä¸º 0 æ—¶ï¼Œh æŒ‡æ•°ä¸º 0

### H æŒ‡æ•°ç†è§£

ä»¥ `citations = [3,0,6,1,5]` ä¸ºä¾‹ï¼š

- æ’åºåï¼š`[6,5,3,1,0]`ï¼ˆé™åºï¼‰
- æ£€æŸ¥ h=1ï¼šæœ‰ 4 ç¯‡è®ºæ–‡å¼•ç”¨æ¬¡æ•° â‰¥ 1 âœ“
- æ£€æŸ¥ h=2ï¼šæœ‰ 4 ç¯‡è®ºæ–‡å¼•ç”¨æ¬¡æ•° â‰¥ 2 âœ“
- æ£€æŸ¥ h=3ï¼šæœ‰ 3 ç¯‡è®ºæ–‡å¼•ç”¨æ¬¡æ•° â‰¥ 3 âœ“
- æ£€æŸ¥ h=4ï¼šåªæœ‰ 2 ç¯‡è®ºæ–‡å¼•ç”¨æ¬¡æ•° â‰¥ 4 âœ—

å› æ­¤ h æŒ‡æ•°ä¸º 3ã€‚

---

## æ€è·¯è§£æ

### é”™è¯¯ç›´è§‰ âŒ

- **æš´åŠ›æšä¸¾æ‰€æœ‰å¯èƒ½çš„ h**ï¼šä» 1 åˆ° n é€ä¸ªæ£€æŸ¥ï¼Œæ—¶é—´å¤æ‚åº¦ O(nÂ²)
- **ç›´æ¥ç»Ÿè®¡å¤§äºç­‰äºæŸä¸ªå€¼çš„è®ºæ–‡æ•°é‡**ï¼šæ²¡æœ‰åˆ©ç”¨æ’åºçš„ä¼˜åŠ¿

### æ­£ç¡®æ€è·¯ âœ…

#### æ–¹æ³•ä¸€ï¼šæ’åºåéå†ï¼ˆæ¨èç†è§£ï¼‰

1. **å°†æ•°ç»„é™åºæ’åº**
2. **éå†æ•°ç»„**ï¼Œæ‰¾åˆ°æœ€å¤§çš„ `i` ä½¿å¾— `citations[i] >= i + 1`
3. è¿”å› `i + 1`ï¼ˆæˆ–æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³çš„ä½ç½®ï¼Œè¿”å› `i`ï¼‰

**æ ¸å¿ƒè§‚å¯Ÿ**ï¼šæ’åºåï¼Œå¦‚æœ `citations[i] >= i + 1`ï¼Œè¯´æ˜å‰ `i + 1` ç¯‡è®ºæ–‡çš„å¼•ç”¨æ¬¡æ•°éƒ½è‡³å°‘ä¸º `i + 1`ã€‚

#### æ–¹æ³•äºŒï¼šè®¡æ•°æ’åºï¼ˆæœ€ä¼˜æ—¶é—´å¤æ‚åº¦ï¼‰

ç”±äº `citations[i] <= 1000`ï¼Œå¯ä»¥ä½¿ç”¨è®¡æ•°æ’åºä¼˜åŒ–åˆ° O(n)ï¼š

1. **ç»Ÿè®¡æ¯ä¸ªå¼•ç”¨æ¬¡æ•°çš„è®ºæ–‡æ•°é‡**
2. **ä»é«˜åˆ°ä½ç´¯åŠ **ï¼Œæ‰¾åˆ°æœ€å¤§çš„ `h` ä½¿å¾—ç´¯è®¡è®ºæ–‡æ•° â‰¥ `h`

---

## ç®—æ³•è¯¦è§£

### æ–¹æ³•ä¸€ï¼šæ’åºåéå†

**æ­¥éª¤ï¼š**

1. **æ’åºæ•°ç»„**ï¼ˆé™åºï¼‰
   ```c
   // ä½¿ç”¨å¿«é€Ÿæ’åºæˆ–æ ‡å‡†åº“æ’åº
   // æ’åºåï¼šcitations[0] >= citations[1] >= ... >= citations[n-1]
   ```

2. **éå†æŸ¥æ‰¾**
   ```c
   for (int i = 0; i < citationsSize; i++) {
       // å¦‚æœ citations[i] >= i + 1ï¼Œè¯´æ˜å‰ i+1 ç¯‡è®ºæ–‡å¼•ç”¨æ¬¡æ•°éƒ½ >= i+1
       // å¦‚æœ citations[i] < i + 1ï¼Œè¯´æ˜ h æŒ‡æ•°å°±æ˜¯ i
       if (citations[i] < i + 1) {
           return i;
       }
   }
   return citationsSize;  // æ‰€æœ‰è®ºæ–‡éƒ½æ»¡è¶³
   ```

3. **ä¸ºä»€ä¹ˆæ˜¯ `i + 1`ï¼Ÿ**
   - `i` æ˜¯ç´¢å¼•ï¼ˆä» 0 å¼€å§‹ï¼‰
   - å‰ `i + 1` ç¯‡è®ºæ–‡å¯¹åº” h = `i + 1`
   - å¦‚æœ `citations[i] >= i + 1`ï¼Œè¯´æ˜è¿™ `i + 1` ç¯‡è®ºæ–‡çš„å¼•ç”¨æ¬¡æ•°éƒ½è‡³å°‘ä¸º `i + 1`

### æ–¹æ³•äºŒï¼šè®¡æ•°æ’åº

**æ­¥éª¤ï¼š**

1. **ç»Ÿè®¡é¢‘æ¬¡**
   ```c
   int count[1001] = {0};  // citations[i] <= 1000
   for (int i = 0; i < citationsSize; i++) {
       if (citations[i] > citationsSize) {
           count[citationsSize]++;  // è¶…è¿‡ n çš„æŒ‰ n è®¡ç®—
       } else {
           count[citations[i]]++;
       }
   }
   ```

2. **ä»é«˜åˆ°ä½ç´¯åŠ **
   ```c
   int sum = 0;
   for (int h = citationsSize; h >= 0; h--) {
       sum += count[h];
       if (sum >= h) {
           return h;
       }
   }
   return 0;
   ```

---

## ä»£ç å®ç°

### C è¯­è¨€å®ç°ï¼ˆæ’åºæ³•ï¼‰

```c
// æ¯”è¾ƒå‡½æ•°ï¼šé™åºæ’åº
int compare(const void* a, const void* b) {
    return *(int*)b - *(int*)a;
}

int hIndex(int* citations, int citationsSize) {
    // é™åºæ’åº
    qsort(citations, citationsSize, sizeof(int), compare);
    
    // éå†æŸ¥æ‰¾æœ€å¤§çš„ h
    for (int i = 0; i < citationsSize; i++) {
        if (citations[i] < i + 1) {
            return i;
        }
    }
    return citationsSize;
}
```

### C è¯­è¨€å®ç°ï¼ˆè®¡æ•°æ’åºæ³• - æœ€ä¼˜ï¼‰

```c
int hIndex(int* citations, int citationsSize) {
    // è®¡æ•°æ•°ç»„ï¼šç»Ÿè®¡æ¯ä¸ªå¼•ç”¨æ¬¡æ•°çš„è®ºæ–‡æ•°é‡
    int count[1001] = {0};
    
    // ç»Ÿè®¡é¢‘æ¬¡ï¼ˆè¶…è¿‡ n çš„æŒ‰ n è®¡ç®—ï¼Œå› ä¸º h æœ€å¤§ä¸º nï¼‰
    for (int i = 0; i < citationsSize; i++) {
        if (citations[i] > citationsSize) {
            count[citationsSize]++;
        } else {
            count[citations[i]]++;
        }
    }
    
    // ä»é«˜åˆ°ä½ç´¯åŠ ï¼Œæ‰¾åˆ°æœ€å¤§çš„ h
    int sum = 0;
    for (int h = citationsSize; h >= 0; h--) {
        sum += count[h];
        if (sum >= h) {
            return h;
        }
    }
    return 0;
}
```

### C++ å®ç°ï¼ˆæ’åºæ³•ï¼‰

```cpp
class Solution {
public:
    int hIndex(vector<int>& citations) {
        // é™åºæ’åº
        sort(citations.begin(), citations.end(), greater<int>());
        
        // éå†æŸ¥æ‰¾
        for (int i = 0; i < citations.size(); i++) {
            if (citations[i] < i + 1) {
                return i;
            }
        }
        return citations.size();
    }
};
```

---

## å¤æ‚åº¦åˆ†æ

### æ–¹æ³•ä¸€ï¼šæ’åºåéå†

- **æ—¶é—´å¤æ‚åº¦ï¼š** O(n log n)  
  æ’åºéœ€è¦ O(n log n)ï¼Œéå†éœ€è¦ O(n)ï¼Œæ€»ä½“ä¸º O(n log n)

- **ç©ºé—´å¤æ‚åº¦ï¼š** O(1)  
  ä»…ä½¿ç”¨å¸¸æ•°é¢å¤–ç©ºé—´ï¼ˆæ’åºå¦‚æœæ˜¯åŸåœ°æ’åºï¼‰

### æ–¹æ³•äºŒï¼šè®¡æ•°æ’åº

- **æ—¶é—´å¤æ‚åº¦ï¼š** O(n)  
  ç»Ÿè®¡é¢‘æ¬¡ O(n)ï¼Œç´¯åŠ æŸ¥æ‰¾ O(n)ï¼Œæ€»ä½“ä¸º O(n)

- **ç©ºé—´å¤æ‚åº¦ï¼š** O(1)  
  ä½¿ç”¨å›ºå®šå¤§å°çš„è®¡æ•°æ•°ç»„ï¼ˆ1001 ä¸ªå…ƒç´ ï¼‰ï¼Œä¸è¾“å…¥è§„æ¨¡æ— å…³

---

## å¸¸è§é”™è¯¯

1. **å‡åºæ’åºåä»åå¾€å‰éå†**  
   è™½ç„¶å¯ä»¥ï¼Œä½†ä¸å¦‚é™åºæ’åºç›´è§‚ï¼Œå®¹æ˜“å‡ºé”™ã€‚

2. **æ¯”è¾ƒæ¡ä»¶å†™å**  
   ```c
   if (citations[i] > i + 1) {  // âŒ é”™è¯¯
       return i;
   }
   ```
   åº”è¯¥æ˜¯ `citations[i] < i + 1` æ—¶æ‰è¿”å›ã€‚

3. **ç´¢å¼•ç†è§£é”™è¯¯**  
   è®°ä½ï¼š`i` æ˜¯ç´¢å¼•ï¼ˆä» 0 å¼€å§‹ï¼‰ï¼Œå¯¹åº”çš„ h å€¼æ˜¯ `i + 1`ã€‚

4. **è¾¹ç•Œæƒ…å†µå¤„ç†ä¸å½“**  
   - æ‰€æœ‰è®ºæ–‡å¼•ç”¨æ¬¡æ•°éƒ½ä¸º 0ï¼šåº”è¯¥è¿”å› 0
   - æ‰€æœ‰è®ºæ–‡å¼•ç”¨æ¬¡æ•°éƒ½å¾ˆå¤§ï¼šåº”è¯¥è¿”å› `citationsSize`

5. **è®¡æ•°æ’åºä¸­è¶…è¿‡ n çš„å¤„ç†**  
   å¦‚æœ `citations[i] > n`ï¼Œåº”è¯¥æŒ‰ `n` è®¡ç®—ï¼Œå› ä¸º h æŒ‡æ•°æœ€å¤§ä¸º `n`ã€‚

---

## æ‰©å±•æ€è€ƒ

1. **ä¸ºä»€ä¹ˆæ’åºåå¯ä»¥ç›´æ¥åˆ¤æ–­ï¼Ÿ**  
   æ’åºåï¼Œå¦‚æœ `citations[i] >= i + 1`ï¼Œé‚£ä¹ˆå‰ `i + 1` ç¯‡è®ºæ–‡çš„å¼•ç”¨æ¬¡æ•°éƒ½è‡³å°‘ä¸º `i + 1`ï¼ˆå› ä¸ºé™åºæ’åˆ—ï¼‰ã€‚

2. **ä¸ 275 é¢˜ã€ŠH æŒ‡æ•° IIã€‹çš„åŒºåˆ«**  
   - 275 é¢˜ï¼šæ•°ç»„å·²ç»æŒ‰å‡åºæ’åˆ—ï¼Œå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ä¼˜åŒ–
   - 274 é¢˜ï¼šæ•°ç»„æœªæ’åºï¼Œéœ€è¦å…ˆæ’åºæˆ–ä½¿ç”¨è®¡æ•°æ’åº

3. **è®¡æ•°æ’åºçš„ä¼˜åŠ¿**  
   - å½“æ•°æ®èŒƒå›´è¾ƒå°æ—¶ï¼ˆå¦‚æœ¬é¢˜ `citations[i] <= 1000`ï¼‰ï¼Œè®¡æ•°æ’åºå¯ä»¥å°†æ—¶é—´å¤æ‚åº¦ä» O(n log n) ä¼˜åŒ–åˆ° O(n)

4. **å¦‚æœå¼•ç”¨æ¬¡æ•°èŒƒå›´å¾ˆå¤§æ€ä¹ˆåŠï¼Ÿ**  
   - å¦‚æœ `citations[i]` å¯èƒ½å¾ˆå¤§ï¼ˆå¦‚ 10^9ï¼‰ï¼Œè®¡æ•°æ’åºä¸å¯è¡Œ
   - åªèƒ½ä½¿ç”¨æ’åºæ³•ï¼Œæ—¶é—´å¤æ‚åº¦ O(n log n)

---

**æ€»ç»“ï¼š** æœ¬é¢˜çš„æ ¸å¿ƒæ˜¯ç†è§£ H æŒ‡æ•°çš„å®šä¹‰ï¼Œç„¶åé€šè¿‡æ’åºæˆ–è®¡æ•°æ¥é«˜æ•ˆè®¡ç®—ã€‚æ’åºæ³•æ€è·¯ç›´è§‚ï¼Œè®¡æ•°æ’åºæ³•æ—¶é—´å¤æ‚åº¦æœ€ä¼˜ã€‚æŒæ¡æœ¬é¢˜åï¼Œå¯ä»¥è½»æ¾è§£å†³è¿›é˜¶ç‰ˆ 275 é¢˜ã€‚ğŸ‘

