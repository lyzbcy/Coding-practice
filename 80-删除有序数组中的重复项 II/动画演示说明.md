# 动画演示使用说明

## 🎬 如何运行动画

1. **安装依赖**

```bash
pip install matplotlib numpy
```

2. **运行程序**

```bash
python 动画演示.py
```

3. **选择示例**

程序提供五个入口：

- 选项 1：官方示例 `[1,1,1,2,2,3]`
- 选项 2：长数组 `[0,0,1,1,1,1,2,3,3]`
- 选项 3：全部相同元素 `[5,5,5,5,5]`
- 选项 4：已经完全唯一 `[1,2,3,4,5]`
- 选项 5：自定义输入（请保证非递减排序）

---

## 🎮 键盘控制

| 按键 | 功能 |
|------|------|
| 空格 / → / Enter | 下一步 |
| ← | 上一步 |
| Home | 跳转到第一步 |
| End | 跳转到最后一步 |
| Q / Esc | 退出程序 |

> ⚠️ 操作前请先点击动画窗口，确保焦点在窗口中。

---

## 📊 动画元素说明

- **浅蓝色格子**：已确认的有效元素（`nums[0..slow]`，每个元素最多出现两次）
- **灰色格子**：尚未处理或不再关心的区间
- **黄色描边**：`fast` 当前比较的位置
- **卡其色描边**：本轮写入 `slow` 的位置
- **蓝色箭头**：`slow`（写指针，又代表 `k-1`）
- **绿色箭头**：`fast`（读指针）
- **代码面板**：同步高亮正在执行的 C 代码行

---

## 🔁 动画流程

1. **初始化**：展示 `slow = 0`、`fast = 1`，并解释循环不变量。
2. **比较阶段**：逐步高亮 `fast`，提示当前元素是否应该保留。
   - 如果 `slow < 1`，前两个元素可以直接保留
   - 如果 `nums[fast] != nums[slow-1]`，可以写入
   - 如果 `nums[fast] == nums[slow-1]` 且 `slow >= 1`，说明已经有两个相同元素了，跳过
3. **写入阶段**：若遇到可以保留的值，会显示覆盖步骤并更新 `slow`。
4. **指针移动**：`fast` 每轮加一，`slow` 仅在写入时加一。
5. **收尾阶段**：提示 `k = slow + 1`，并展示最终有效数组。

---

## 💡 学习建议

1. 先观看示例 1，弄清 `slow` 与 `fast` 的职责，以及如何判断是否已经有两个相同元素。
2. 再切换示例 2，观察多个连续重复值时如何跳过第三个及以后的相同元素。
3. 尝试示例 3/4，感受极端情形（全重复 / 全唯一）。
4. 最后使用自定义数组，边看动画边对照 `教学文档.md` 手动推演。

---

## ❓ 常见问题

- **键盘没有反应？**  
  点击动画窗口后再按键；若仍无效，关闭重新运行。

- **中文字体显示方块？**  
  修改脚本中 `plt.rcParams['font.sans-serif']` 为系统已有字体。

- **窗口打不开？**  
  如果当前环境无图形界面，可在本地电脑运行或将每一步保存为图片（可在脚本中自行扩展）。

---

祝你通过动画快速掌握双指针去重（最多保留两次）的节奏！🚀



