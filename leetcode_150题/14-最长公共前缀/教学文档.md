# LeetCode 14. æœ€é•¿å…¬å…±å‰ç¼€ - è¯¦ç»†æ•™å­¦æ–‡æ¡£

## ğŸ“š ç›®å½•

1. [é—®é¢˜åˆ†æ](#é—®é¢˜åˆ†æ)
2. [æ€è·¯è§£æ](#æ€è·¯è§£æ)
3. [ç®—æ³•è¯¦è§£](#ç®—æ³•è¯¦è§£)
4. [ä»£ç å®ç°](#ä»£ç å®ç°)
5. [å¤æ‚åº¦åˆ†æ](#å¤æ‚åº¦åˆ†æ)
6. [å¸¸è§é”™è¯¯](#å¸¸è§é”™è¯¯)
7. [æ‰©å±•æ€è€ƒ](#æ‰©å±•æ€è€ƒ)

---

## é—®é¢˜åˆ†æ

### é¢˜ç›®è¦æ±‚

- ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ `strs`
- æ‰¾å‡ºæ‰€æœ‰å­—ç¬¦ä¸²çš„**æœ€é•¿å…¬å…±å‰ç¼€**
- å¦‚æœä¸å­˜åœ¨å…¬å…±å‰ç¼€ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²

### å…³é”®çº¦æŸ

1. **å­—ç¬¦ä¸²æ•°ç»„å¯èƒ½ä¸ºç©º**ï¼Œéœ€è¦å¤„ç†è¾¹ç•Œæƒ…å†µ
2. **å­—ç¬¦ä¸²é•¿åº¦å¯èƒ½ä¸º 0**ï¼Œéœ€è¦æ£€æŸ¥è¶Šç•Œ
3. **å­—ç¬¦ä¸²æ•°é‡æœ€å¤š 200**ï¼Œå­—ç¬¦ä¸²é•¿åº¦æœ€å¤š 200ï¼Œé€‚åˆçº¿æ€§æ‰«æ

---

## æ€è·¯è§£æ

### é”™è¯¯ç›´è§‰ âŒ

- **ä½¿ç”¨åŒæŒ‡é’ˆé€ä¸ªæ¯”è¾ƒ**ï¼šæ€è·¯æ–¹å‘æ­£ç¡®ï¼Œä½†å®ç°æ—¶å®¹æ˜“å‡ºé”™ï¼Œå¦‚è¿”å›å±€éƒ¨æ•°ç»„ã€æœªæ£€æŸ¥è¾¹ç•Œç­‰
- **å…ˆæ’åºå†æ¯”è¾ƒé¦–å°¾**ï¼šè™½ç„¶å¯è¡Œï¼Œä½†æ—¶é—´å¤æ‚åº¦æ›´é«˜ï¼ˆO(n log n)ï¼‰ï¼Œä¸”éœ€è¦é¢å¤–ç©ºé—´
- **ä½¿ç”¨ `strcmp` é€å­—ç¬¦ä¸²æ¯”è¾ƒ**ï¼šæ— æ³•ç›´æ¥å¾—åˆ°å…¬å…±å‰ç¼€çš„é•¿åº¦

### æ­£ç¡®æ€è·¯ âœ…

æœ¬é¢˜æœ€é€‚åˆä½¿ç”¨ **çºµå‘æ‰«æ** çš„æ–¹æ³•ï¼š

1. **ä»¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºåŸºå‡†**ï¼šå‡è®¾ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å°±æ˜¯å…¬å…±å‰ç¼€çš„å€™é€‰
2. **é€å­—ç¬¦ä½ç½®æ¯”è¾ƒ**ï¼šå¯¹äºæ¯ä¸ªå­—ç¬¦ä½ç½® `i`ï¼Œæ£€æŸ¥æ‰€æœ‰å­—ç¬¦ä¸²çš„ç¬¬ `i` ä¸ªå­—ç¬¦
3. **æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸åŒ¹é…çš„ä½ç½®**ï¼šå¦‚æœæŸä¸ªå­—ç¬¦ä¸²çš„ç¬¬ `i` ä¸ªå­—ç¬¦ä¸åŒæˆ–ä¸å­˜åœ¨ï¼Œè¿”å›å‰ `i` ä¸ªå­—ç¬¦

ä¼ªä»£ç ï¼š

```
if strs ä¸ºç©º:
    return ""

for i in range(len(strs[0])):
    char = strs[0][i]
    for j in range(1, len(strs)):
        if i >= len(strs[j]) or strs[j][i] != char:
            return strs[0][0:i]
return strs[0]
```

---

## ç®—æ³•è¯¦è§£

1. **è¾¹ç•Œæ£€æŸ¥**
   - å¦‚æœ `strsSize == 0`ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²
   - å¦‚æœ `strsSize == 1`ï¼Œç›´æ¥è¿”å›ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²

2. **çºµå‘æ‰«æ**
   - å¤–å±‚å¾ªç¯ï¼šéå†ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦ä½ç½® `i`
   - å†…å±‚å¾ªç¯ï¼šéå†æ‰€æœ‰å…¶ä»–å­—ç¬¦ä¸² `strs[1..strsSize-1]`
   - å¯¹äºæ¯ä¸ªä½ç½® `i`ï¼š
     - æ£€æŸ¥ `strs[j][i]` æ˜¯å¦å­˜åœ¨ï¼ˆ`i < strlen(strs[j])`ï¼‰
     - æ£€æŸ¥ `strs[j][i] == strs[0][i]`
     - å¦‚æœä»»ä¸€æ¡ä»¶ä¸æ»¡è¶³ï¼Œè¿”å›å‰ `i` ä¸ªå­—ç¬¦

3. **è¿”å›ç»“æœ**
   - å¦‚æœæ‰€æœ‰å­—ç¬¦éƒ½åŒ¹é…ï¼Œè¿”å›ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„å®Œæ•´å†…å®¹
   - å¦åˆ™è¿”å›å·²åŒ¹é…çš„å‰ç¼€éƒ¨åˆ†

### ä¸ºä»€ä¹ˆçºµå‘æ‰«æï¼Ÿ

- **ç›´è§‚æ˜“æ‡‚**ï¼šé€ä¸ªå­—ç¬¦ä½ç½®æ¯”è¾ƒï¼Œé€»è¾‘æ¸…æ™°
- **æå‰ç»ˆæ­¢**ï¼šä¸€æ—¦å‘ç°ä¸åŒ¹é…ï¼Œç«‹å³è¿”å›ï¼Œæ•ˆç‡é«˜
- **ç©ºé—´æ•ˆç‡**ï¼šåªéœ€è¦å­˜å‚¨ç»“æœå­—ç¬¦ä¸²ï¼Œä¸éœ€è¦é¢å¤–æ•°ç»„

---

## ä»£ç å®ç°

### C è¯­è¨€æ ¸å¿ƒä»£ç 

```c
char* longestCommonPrefix(char** strs, int strsSize) {
    // è¾¹ç•Œæ£€æŸ¥
    if (strsSize == 0) {
        char* result = (char*)malloc(1);
        result[0] = '\0';
        return result;
    }
    
    // ä»¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºåŸºå‡†
    int len = strlen(strs[0]);
    
    // çºµå‘æ‰«æï¼šæ¯”è¾ƒæ¯ä¸ªå­—ç¬¦ä½ç½®
    for (int i = 0; i < len; i++) {
        char c = strs[0][i];
        
        // æ£€æŸ¥æ‰€æœ‰å…¶ä»–å­—ç¬¦ä¸²çš„ç¬¬ i ä¸ªå­—ç¬¦
        for (int j = 1; j < strsSize; j++) {
            // å¦‚æœå­—ç¬¦ä¸²é•¿åº¦ä¸è¶³æˆ–å­—ç¬¦ä¸åŒ¹é…
            if (i >= strlen(strs[j]) || strs[j][i] != c) {
                // è¿”å›å‰ i ä¸ªå­—ç¬¦
                char* result = (char*)malloc((i + 1) * sizeof(char));
                strncpy(result, strs[0], i);
                result[i] = '\0';
                return result;
            }
        }
    }
    
    // æ‰€æœ‰å­—ç¬¦éƒ½åŒ¹é…ï¼Œè¿”å›ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰¯æœ¬
    char* result = (char*)malloc((len + 1) * sizeof(char));
    strcpy(result, strs[0]);
    return result;
}
```

### C++ï¼ˆé¢å‘å¯¹è±¡ï¼‰å®ç°

```cpp
class Solution {
public:
    string longestCommonPrefix(vector<string>& strs) {
        if (strs.empty()) {
            return "";
        }
        
        // ä»¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºåŸºå‡†
        for (int i = 0; i < strs[0].length(); i++) {
            char c = strs[0][i];
            
            // æ£€æŸ¥æ‰€æœ‰å…¶ä»–å­—ç¬¦ä¸²çš„ç¬¬ i ä¸ªå­—ç¬¦
            for (int j = 1; j < strs.size(); j++) {
                if (i >= strs[j].length() || strs[j][i] != c) {
                    return strs[0].substr(0, i);
                }
            }
        }
        
        // æ‰€æœ‰å­—ç¬¦éƒ½åŒ¹é…
        return strs[0];
    }
};
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦ï¼š** O(mn)  
  å…¶ä¸­ `m` æ˜¯å­—ç¬¦ä¸²çš„å¹³å‡é•¿åº¦ï¼Œ`n` æ˜¯å­—ç¬¦ä¸²çš„æ•°é‡ã€‚æœ€åæƒ…å†µä¸‹éœ€è¦æ¯”è¾ƒæ‰€æœ‰å­—ç¬¦ã€‚

- **ç©ºé—´å¤æ‚åº¦ï¼š** O(m)  
  éœ€è¦å­˜å‚¨ç»“æœå­—ç¬¦ä¸²ï¼Œæœ€åæƒ…å†µä¸‹ç»“æœé•¿åº¦ä¸º `m`ï¼ˆC è¯­è¨€éœ€è¦åŠ¨æ€åˆ†é…ï¼‰ã€‚

---

## å¸¸è§é”™è¯¯

1. **è¿”å›å±€éƒ¨æ•°ç»„**  
   ```c
   char out[slow];  // é”™è¯¯ï¼å‡½æ•°è¿”å›åå±€éƒ¨æ•°ç»„ä¼šè¢«é”€æ¯
   return out;
   ```
   åº”è¯¥ä½¿ç”¨ `malloc` åŠ¨æ€åˆ†é…å†…å­˜ã€‚

2. **æœªæ£€æŸ¥æ•°ç»„è¶Šç•Œ**  
   åœ¨è®¿é—® `strs[j][i]` ä¹‹å‰ï¼Œå¿…é¡»æ£€æŸ¥ `i < strlen(strs[j])`ï¼Œå¦åˆ™å¯èƒ½è¶Šç•Œã€‚

3. **æœªå¤„ç†ç©ºæ•°ç»„**  
   å¦‚æœ `strsSize == 0`ï¼Œéœ€è¦è¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œå¦åˆ™è®¿é—® `strs[0]` ä¼šå‡ºé”™ã€‚

4. **ä½¿ç”¨ `goto` è¯­å¥**  
   è™½ç„¶å¯ä»¥å·¥ä½œï¼Œä½†ä¸æ¨èä½¿ç”¨ `goto`ï¼Œåº”è¯¥ä½¿ç”¨ `return` æˆ– `break`ã€‚

5. **å†…å±‚å¾ªç¯é€»è¾‘é”™è¯¯**  
   ```c
   if(strs[0][slow]==strs[i][slow]){
       i++;  // é”™è¯¯ï¼è¿™é‡Œä¼šè·³è¿‡æŸäº›å­—ç¬¦ä¸²
   }
   ```
   åº”è¯¥åœ¨å†…å±‚å¾ªç¯ä¸­æ¯”è¾ƒæ‰€æœ‰å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯è·³è¿‡ã€‚

6. **å¿˜è®°æ·»åŠ å­—ç¬¦ä¸²ç»“æŸç¬¦**  
   C è¯­è¨€ä¸­ï¼ŒåŠ¨æ€åˆ†é…çš„å­—ç¬¦ä¸²å¿…é¡»ä»¥ `'\0'` ç»“å°¾ã€‚

---

## æ‰©å±•æ€è€ƒ

1. **æ¨ªå‘æ‰«ææ–¹æ³•**  
   ä¾æ¬¡æ¯”è¾ƒç›¸é‚»ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å…¬å…±å‰ç¼€ï¼Œé€æ­¥ç¼©å°èŒƒå›´ï¼š
   ```c
   prefix = strs[0];
   for (int i = 1; i < strsSize; i++) {
       prefix = commonPrefix(prefix, strs[i]);
   }
   ```
   æ—¶é—´å¤æ‚åº¦ç›¸åŒï¼Œä½†ä»£ç ç¨å¤æ‚ã€‚

2. **åˆ†æ²»æ³•**  
   å°†æ•°ç»„åˆ†æˆä¸¤åŠï¼Œåˆ†åˆ«æ±‚å…¬å…±å‰ç¼€ï¼Œç„¶ååˆå¹¶ï¼š
   ```c
   prefix = divide(strs, left, right);
   ```
   æ—¶é—´å¤æ‚åº¦ç›¸åŒï¼Œä½†ä»£ç æ›´å¤æ‚ï¼Œé€‚åˆç†è§£é€’å½’æ€æƒ³ã€‚

3. **æ’åºåæ¯”è¾ƒé¦–å°¾**  
   å…ˆå¯¹æ•°ç»„æ’åºï¼Œç„¶ååªæ¯”è¾ƒç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå­—ç¬¦ä¸²ï¼š
   ```c
   sort(strs);
   return commonPrefix(strs[0], strs[n-1]);
   ```
   æ—¶é—´å¤æ‚åº¦ O(n log n + m)ï¼Œä½†ä»£ç ç®€å•ã€‚

4. **Trie æ ‘æ–¹æ³•**  
   å°†æ‰€æœ‰å­—ç¬¦ä¸²æ’å…¥ Trie æ ‘ï¼Œç„¶åä»æ ¹èŠ‚ç‚¹å‘ä¸‹éå†ï¼Œç›´åˆ°åˆ†å‰ï¼š
   - æ—¶é—´å¤æ‚åº¦ï¼šO(mn)ï¼ˆæ„å»ºæ ‘ï¼‰+ O(m)ï¼ˆéå†ï¼‰
   - ç©ºé—´å¤æ‚åº¦ï¼šO(mn)
   - é€‚åˆå¤„ç†å¤§é‡å­—ç¬¦ä¸²çš„åœºæ™¯

---

**æ€»ç»“ï¼š** æœ¬é¢˜æ˜¯å­—ç¬¦ä¸²å¤„ç†çš„ç»å…¸é¢˜ç›®ï¼Œé‡ç‚¹åœ¨äºç†è§£"çºµå‘æ‰«æ"çš„æ€æƒ³ï¼šåŒæ—¶æ¯”è¾ƒæ‰€æœ‰å­—ç¬¦ä¸²çš„åŒä¸€ä½ç½®å­—ç¬¦ã€‚æŒæ¡æœ¬é¢˜åï¼Œç±»ä¼¼çš„å­—ç¬¦ä¸²åŒ¹é…å’Œå‰ç¼€é—®é¢˜éƒ½å¯ä»¥è§¦ç±»æ—é€šã€‚ğŸ‘


