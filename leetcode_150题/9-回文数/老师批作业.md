## åˆæ¬¡æäº¤ä»£ç 

```c
bool isPalindrome(int x) {
    /*
    æ€è·¯ï¼šç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆä»æœ€åä¸€ä½å¼€å§‹ä»åå¾€å‰ï¼Œæ…¢æŒ‡é’ˆä»ç¬¬0ä½å¼€å§‹ä»å‰å¾€åï¼Œéå†ç›´åˆ°fast<=slowï¼Œè¿”å›true
    å¦‚æœä¸­é—´åˆ¤æ–­åˆ°fastï¼=slowï¼Œé‚£å°±è¿”å›false
    */
    int nums[20];
    int number=0;
    if(x<0) return false;
    for(int i=0;x>=10;i++){
        nums[i]=x%10;
        x=x/10;
        number++;
    }
    int left=0;
    int right=number;
    for(;left<right;left++,right--){
        if(nums[left]!=nums[right]){
            return false;
        }
    }
    return true;
}
```

## æ‰¹é˜…æ„è§

### âœ… ä¼˜ç‚¹

1. **è¾¹ç•Œå¤„ç†æ­£ç¡®**ï¼šæ­£ç¡®åˆ¤æ–­äº†è´Ÿæ•°æƒ…å†µ `if(x<0) return false;`
2. **æ€è·¯æ–¹å‘æ­£ç¡®**ï¼šä½¿ç”¨æ•°ç»„å­˜å‚¨æ¯ä¸€ä½æ•°å­—ï¼Œç„¶åæ¯”è¾ƒçš„æ€è·¯æ˜¯å¯¹çš„
3. **åŒæŒ‡é’ˆæ¯”è¾ƒ**ï¼šä½¿ç”¨ `left` å’Œ `right` ä»ä¸¤ç«¯å‘ä¸­é—´æ¯”è¾ƒçš„æ€è·¯æ­£ç¡®

### âŒ é—®é¢˜åˆ†æ

#### 1. **æ€è·¯æè¿°æ··ä¹±**

**é—®é¢˜**ï¼šæ³¨é‡Šä¸­æåˆ°äº†"å¿«æ…¢æŒ‡é’ˆ"ï¼Œä½†è¿™æ˜¯å›æ–‡æ•°é—®é¢˜ï¼Œä¸æ˜¯é“¾è¡¨é—®é¢˜ã€‚å¿«æ…¢æŒ‡é’ˆé€šå¸¸ç”¨äºé“¾è¡¨æ“ä½œï¼ˆå¦‚æ£€æµ‹ç¯ï¼‰ï¼Œè¿™é‡Œåº”è¯¥ç”¨"åŒæŒ‡é’ˆ"æˆ–"å·¦å³æŒ‡é’ˆ"ã€‚

**å»ºè®®**ï¼šä¿®æ”¹æ³¨é‡Šä¸º"ä½¿ç”¨åŒæŒ‡é’ˆä»ä¸¤ç«¯å‘ä¸­é—´æ¯”è¾ƒ"ã€‚

#### 2. **å¾ªç¯æ¡ä»¶é”™è¯¯ï¼ˆä¸¥é‡ï¼‰**

**é—®é¢˜**ï¼š`for(int i=0;x>=10;i++)` è¿™ä¸ªå¾ªç¯æ¡ä»¶ä¼šå¯¼è‡´**æœ€åä¸€ä½æ•°å­—ä¸¢å¤±**ã€‚

**ç¤ºä¾‹åˆ†æ**ï¼š
- è¾“å…¥ `x = 121`ï¼š
  - ç¬¬1æ¬¡ï¼š`x=121`, `x>=10` ä¸ºçœŸï¼Œ`nums[0]=1`, `x=12`, `number=1`
  - ç¬¬2æ¬¡ï¼š`x=12`, `x>=10` ä¸ºçœŸï¼Œ`nums[1]=2`, `x=1`, `number=2`
  - ç¬¬3æ¬¡ï¼š`x=1`, `x>=10` ä¸ºå‡ï¼Œ**å¾ªç¯ç»“æŸï¼Œä½† `1` æ²¡æœ‰è¢«å­˜å‚¨ï¼**
  - ç»“æœï¼š`nums = [1, 2, ?]`ï¼Œæœ€åä¸€ä½ `1` ä¸¢å¤±äº†

**æ­£ç¡®åšæ³•**ï¼šåº”è¯¥ä½¿ç”¨ `x > 0` æˆ– `x != 0` ä½œä¸ºå¾ªç¯æ¡ä»¶ã€‚

```c
// âŒ é”™è¯¯
for(int i=0; x>=10; i++) { ... }

// âœ… æ­£ç¡®
for(int i=0; x > 0; i++) { ... }
```

#### 3. **æ•°ç»„ç´¢å¼•è¶Šç•Œé£é™©**

**é—®é¢˜**ï¼š`right=number` ä¼šå¯¼è‡´æ•°ç»„è¶Šç•Œã€‚

**åˆ†æ**ï¼š
- å¦‚æœ `number=2`ï¼ˆå­˜å‚¨äº†2ä½æ•°å­—ï¼‰ï¼Œæ•°ç»„æœ‰æ•ˆç´¢å¼•æ˜¯ `[0, 1]`
- `right=number=2`ï¼Œè®¿é—® `nums[2]` ä¼šè¶Šç•Œ
- åº”è¯¥ä½¿ç”¨ `right=number-1`

**ç¤ºä¾‹**ï¼š
- è¾“å…¥ `x = 12`ï¼š
  - å¾ªç¯åï¼š`nums[0]=2`, `nums[1]=1`, `number=2`
  - `left=0`, `right=2`
  - æ¯”è¾ƒ `nums[0]` å’Œ `nums[2]` â†’ **è¶Šç•Œï¼**

**æ­£ç¡®åšæ³•**ï¼š
```c
// âŒ é”™è¯¯
int right = number;

// âœ… æ­£ç¡®
int right = number - 1;
```

#### 4. **ç¼ºå°‘å¯¹ 0 çš„ç‰¹æ®Šå¤„ç†**

**é—®é¢˜**ï¼šè™½ç„¶ä»£ç å¯¹è´Ÿæ•°åšäº†å¤„ç†ï¼Œä½†æ²¡æœ‰å¤„ç† `x=0` çš„æƒ…å†µã€‚

**åˆ†æ**ï¼š
- å¦‚æœ `x=0`ï¼Œå¾ªç¯ `for(int i=0;x>=10;i++)` ä¸ä¼šæ‰§è¡Œï¼ˆå› ä¸º `0>=10` ä¸ºå‡ï¼‰
- `number=0`ï¼Œ`left=0`, `right=0`
- å¾ªç¯ `for(;left<right;left++,right--)` ä¸ä¼šæ‰§è¡Œï¼ˆå› ä¸º `0<0` ä¸ºå‡ï¼‰
- è¿”å› `true` âœ“ï¼ˆ0 ç¡®å®æ˜¯å›æ–‡æ•°ï¼Œæ‰€ä»¥è¿™ä¸ªç»“æœæ˜¯æ­£ç¡®çš„ï¼Œä½†é€»è¾‘ä¸å¤Ÿæ¸…æ™°ï¼‰

**å»ºè®®**ï¼šæ˜¾å¼å¤„ç† 0 çš„æƒ…å†µï¼Œä½¿ä»£ç æ›´æ¸…æ™°ï¼š
```c
if(x == 0) return true;
```

#### 5. **ç¼ºå°‘å¯¹ä»¥ 0 ç»“å°¾çš„æ•°çš„å¤„ç†**

**é—®é¢˜**ï¼šå¯¹äºä»¥ 0 ç»“å°¾ä¸”ä¸ä¸º 0 çš„æ•°ï¼ˆå¦‚ `10`, `20`, `100`ï¼‰ï¼Œä»£ç å¯èƒ½æ— æ³•æ­£ç¡®åˆ¤æ–­ã€‚

**åˆ†æ**ï¼š
- è¾“å…¥ `x = 10`ï¼š
  - ç¬¬1æ¬¡ï¼š`x=10`, `x>=10` ä¸ºçœŸï¼Œ`nums[0]=0`, `x=1`, `number=1`
  - ç¬¬2æ¬¡ï¼š`x=1`, `x>=10` ä¸ºå‡ï¼Œå¾ªç¯ç»“æŸ
  - `nums = [0, ?]`ï¼Œæœ€åä¸€ä½ `1` ä¸¢å¤±
  - `left=0`, `right=1`
  - æ¯”è¾ƒ `nums[0]=0` å’Œ `nums[1]=?`ï¼ˆæœªå®šä¹‰å€¼ï¼‰â†’ ç»“æœä¸ç¡®å®š

**æ­£ç¡®åšæ³•**ï¼šåœ¨å¾ªç¯å‰åˆ¤æ–­ï¼š
```c
if(x != 0 && x % 10 == 0) return false;
```

### ğŸ” æ”¹è¿›åçš„ä»£ç 

#### æ–¹æ³•ä¸€ï¼šä¿®å¤å½“å‰æ€è·¯ï¼ˆä½¿ç”¨æ•°ç»„ï¼‰

```c
bool isPalindrome(int x) {
    // è´Ÿæ•°ä¸æ˜¯å›æ–‡æ•°
    if(x < 0) return false;
    
    // 0 æ˜¯å›æ–‡æ•°
    if(x == 0) return true;
    
    // ä»¥ 0 ç»“å°¾ä¸”ä¸ä¸º 0 çš„æ•°ä¸æ˜¯å›æ–‡æ•°
    if(x % 10 == 0) return false;
    
    int nums[20];
    int number = 0;
    
    // æå–æ¯ä¸€ä½æ•°å­—ï¼ˆä¿®æ­£ï¼šä½¿ç”¨ x > 0ï¼‰
    for(int i = 0; x > 0; i++) {
        nums[i] = x % 10;
        x = x / 10;
        number++;
    }
    
    // åŒæŒ‡é’ˆä»ä¸¤ç«¯å‘ä¸­é—´æ¯”è¾ƒï¼ˆä¿®æ­£ï¼šright = number - 1ï¼‰
    int left = 0;
    int right = number - 1;
    
    while(left < right) {
        if(nums[left] != nums[right]) {
            return false;
        }
        left++;
        right--;
    }
    
    return true;
}
```

**æ”¹è¿›ç‚¹**ï¼š
1. âœ… ä¿®æ­£å¾ªç¯æ¡ä»¶ï¼š`x > 0` è€Œä¸æ˜¯ `x >= 10`
2. âœ… ä¿®æ­£æ•°ç»„ç´¢å¼•ï¼š`right = number - 1`
3. âœ… æ·»åŠ å¯¹ 0 çš„æ˜¾å¼å¤„ç†
4. âœ… æ·»åŠ å¯¹ä»¥ 0 ç»“å°¾çš„æ•°çš„å¤„ç†
5. âœ… ä½¿ç”¨ `while` å¾ªç¯æ›´æ¸…æ™°

#### æ–¹æ³•äºŒï¼šæ¨èæ–¹æ³•ï¼ˆåè½¬ä¸€åŠæ•°å­—ï¼ŒO(1) ç©ºé—´ï¼‰

```c
bool isPalindrome(int x) {
    // è´Ÿæ•°ä¸æ˜¯å›æ–‡æ•°
    if(x < 0) return false;
    
    // 0 æ˜¯å›æ–‡æ•°
    if(x == 0) return true;
    
    // ä»¥ 0 ç»“å°¾ä¸”ä¸ä¸º 0 çš„æ•°ä¸æ˜¯å›æ–‡æ•°
    if(x % 10 == 0) return false;
    
    int reversed = 0;
    
    // åè½¬åä¸€åŠæ•°å­—
    while(x > reversed) {
        reversed = reversed * 10 + x % 10;
        x /= 10;
    }
    
    // å¶æ•°ä½æ•°ï¼šx == reversed
    // å¥‡æ•°ä½æ•°ï¼šx == reversed / 10ï¼ˆå»æ‰ä¸­é—´ä½ï¼‰
    return x == reversed || x == reversed / 10;
}
```

**ä¼˜ç‚¹**ï¼š
- âœ… ç©ºé—´å¤æ‚åº¦ O(1)ï¼Œä¸éœ€è¦æ•°ç»„
- âœ… é¿å…æº¢å‡ºé—®é¢˜ï¼ˆåªåè½¬ä¸€åŠï¼‰
- âœ… ä»£ç æ›´ç®€æ´

### ğŸ“ æ€»ç»“

ä½ çš„ä»£ç æ€è·¯åŸºæœ¬æ­£ç¡®ï¼Œä½†æœ‰å‡ ä¸ªå…³é”®é”™è¯¯éœ€è¦ä¿®æ­£ï¼š

1. **å¾ªç¯æ¡ä»¶**ï¼š`x>=10` åº”è¯¥æ”¹ä¸º `x>0`ï¼Œå¦åˆ™æœ€åä¸€ä½æ•°å­—ä¼šä¸¢å¤±
2. **æ•°ç»„ç´¢å¼•**ï¼š`right=number` åº”è¯¥æ”¹ä¸º `right=number-1`ï¼Œé¿å…è¶Šç•Œ
3. **è¾¹ç•Œå¤„ç†**ï¼šå»ºè®®æ·»åŠ å¯¹ 0 å’Œä»¥ 0 ç»“å°¾çš„æ•°çš„æ˜¾å¼å¤„ç†

å»ºè®®ä½¿ç”¨**æ–¹æ³•äºŒï¼ˆåè½¬ä¸€åŠæ•°å­—ï¼‰**ï¼Œè¿™æ˜¯æ›´ä¼˜é›…ä¸”ç©ºé—´å¤æ‚åº¦æ›´ä¼˜çš„è§£æ³•ã€‚

---

