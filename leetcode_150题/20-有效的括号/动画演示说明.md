# 动画演示使用说明

## 🎬 如何运行动画

1. **安装依赖**

```bash
pip install matplotlib numpy
```

2. **运行程序**

```bash
python 动画演示.py
```

3. **选择示例**

程序提供六个内置选项：

- 选项 1：示例 1（简单匹配）  
  `s = "()"`

- 选项 2：示例 2（多种括号）  
  `s = "()[]{}"`

- 选项 3：示例 3（类型不匹配）  
  `s = "(]"`

- 选项 4：示例 4（嵌套匹配）  
  `s = "([])"`

- 选项 5：示例 5（顺序错误）  
  `s = "([)]"`

- 选项 6：自定义输入（支持任意括号字符串）

---

## 🎮 手动控制方式

| 按键 | 功能 |
|------|------|
| 空格 / → / Enter | 下一步 |
| ← | 上一步 |
| Home | 跳转到第一步 |
| End | 跳转到最后一步 |
| Q / Esc | 退出程序 |

> ⚠️ 使用键盘前，请先点击动画窗口以确保焦点在窗口上。

---

## 📊 动画元素说明

- **蓝色框（字符串）**：左括号 `(` `[` `{`
- **绿色框（字符串）**：右括号 `)` `]` `}`
- **黄色高亮框**：当前正在处理的字符
- **红色边框**：当前字符的强调显示
- **栈（右侧）**：显示栈的当前状态
  - 蓝色框：栈中的左括号元素
  - 从下往上：栈底到栈顶
  - "栈顶" 箭头：指向栈顶元素
- **代码面板（右侧）**：同步显示当前执行的代码行（黄色高亮）

---

## 🔁 动画流程

1. **初始化**：显示空栈和原始字符串
2. **遍历字符**：逐个高亮当前字符
3. **左括号处理**：显示入栈操作，栈中元素增加
4. **右括号处理**：
   - 检查栈是否为空
   - 检查栈顶是否匹配
   - 显示匹配成功（出栈）或失败（返回 false）
5. **最终检查**：遍历结束后检查栈是否为空，显示最终结果

---

## 💡 学习建议

1. **第一次观看**：选择示例 1 `"()"`，观察基本的入栈和出栈过程
2. **第二次**：选择示例 4 `"([])"`，理解嵌套括号的匹配顺序
3. **第三次**：选择示例 5 `"([)]"`，理解为什么顺序错误会导致匹配失败
4. **第四次**：选择示例 3 `"(]"`，理解类型不匹配的情况
5. **最后**：尝试自定义输入，例如 `"((()))"` 或 `"([{}])"`，配合 `教学文档.md` 手动模拟代码流程

---

## 🎯 重点观察

- **栈的后进先出特性**：最后入栈的左括号最先被匹配
- **匹配规则**：右括号必须与栈顶的左括号类型相同
- **顺序的重要性**：即使括号数量正确，顺序错误也会导致匹配失败
- **边界情况**：
  - 栈为空时遇到右括号 → 无效
  - 遍历结束后栈不为空 → 无效

---

## ❓ 常见问题

- **键盘无响应？**  
  请确保点击动画窗口使其获得焦点。如果仍无效，尝试重新运行或切换 Python 终端。

- **中文显示异常？**  
  修改脚本中的 `plt.rcParams['font.sans-serif']`，换成系统可用字体。  
  例如：`['Microsoft YaHei', 'SimHei', 'Arial Unicode MS']`

- **无法显示窗口？**  
  在无图形界面的环境中，可以使用 `plt.savefig` 导出每一步，但更推荐在本地运行。

- **栈显示不清晰？**  
  栈从下往上显示，最下方是栈底，最上方是栈顶。当前栈顶元素会有箭头标记。

---

## 🔍 调试技巧

如果遇到问题，可以：

1. **逐步执行**：使用空格键一步步执行，仔细观察每一步的变化
2. **回退查看**：使用左箭头回退到上一步，对比差异
3. **查看代码高亮**：右侧代码面板会高亮当前执行的代码行
4. **查看解释文字**：每一步都有详细的文字说明

---

**祝学习顺利，玩得开心！** 🎉

