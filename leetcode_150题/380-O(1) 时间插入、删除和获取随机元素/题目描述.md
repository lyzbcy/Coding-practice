# 380. O(1) æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ 

é¢˜ç›®æ¥æºï¼šhttps://leetcode.cn/problems/insert-delete-getrandom-o1/

---

## ğŸ“ é¢˜ç›®æè¿°

å®ç° `RandomizedSet` ç±»ï¼š

- `RandomizedSet()` åˆå§‹åŒ– `RandomizedSet` å¯¹è±¡
- `bool insert(int val)` å½“å…ƒç´  `val` ä¸å­˜åœ¨æ—¶ï¼Œå‘é›†åˆä¸­æ’å…¥è¯¥é¡¹ï¼Œå¹¶è¿”å› `true`ï¼›å¦åˆ™ï¼Œè¿”å› `false`
- `bool remove(int val)` å½“å…ƒç´  `val` å­˜åœ¨æ—¶ï¼Œä»é›†åˆä¸­ç§»é™¤è¯¥é¡¹ï¼Œå¹¶è¿”å› `true`ï¼›å¦åˆ™ï¼Œè¿”å› `false`
- `int getRandom()` éšæœºè¿”å›ç°æœ‰é›†åˆä¸­çš„ä¸€é¡¹ï¼ˆæµ‹è¯•ç”¨ä¾‹ä¿è¯è°ƒç”¨æ­¤æ–¹æ³•æ—¶é›†åˆä¸­è‡³å°‘å­˜åœ¨ä¸€ä¸ªå…ƒç´ ï¼‰ã€‚æ¯ä¸ªå…ƒç´ åº”è¯¥æœ‰**ç›¸åŒçš„æ¦‚ç‡**è¢«è¿”å›

ä½ å¿…é¡»å®ç°ç±»çš„æ‰€æœ‰å‡½æ•°ï¼Œå¹¶æ»¡è¶³æ¯ä¸ªå‡½æ•°çš„**å¹³å‡**æ—¶é—´å¤æ‚åº¦ä¸º **O(1)**ã€‚

---

## âœ… è¾“å‡ºè§„èŒƒ

- `insert(val)`: å¦‚æœ `val` ä¸å­˜åœ¨ï¼Œæ’å…¥å¹¶è¿”å› `true`ï¼›å¦‚æœå·²å­˜åœ¨ï¼Œè¿”å› `false`
- `remove(val)`: å¦‚æœ `val` å­˜åœ¨ï¼Œåˆ é™¤å¹¶è¿”å› `true`ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œè¿”å› `false`
- `getRandom()`: éšæœºè¿”å›é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ è¢«è¿”å›çš„æ¦‚ç‡ç›¸ç­‰

---

## ğŸ”¢ ç¤ºä¾‹

### ç¤ºä¾‹ 1

**è¾“å…¥ï¼š**  
```
["RandomizedSet", "insert", "remove", "insert", "getRandom", "remove", "insert", "getRandom"]
[[], [1], [2], [2], [], [1], [2], []]
```

**è¾“å‡ºï¼š**  
```
[null, true, false, true, 2, true, false, 2]
```

**è§£é‡Šï¼š**  
```
RandomizedSet randomizedSet = new RandomizedSet();
randomizedSet.insert(1);   // å‘é›†åˆä¸­æ’å…¥ 1 ã€‚è¿”å› true è¡¨ç¤º 1 è¢«æˆåŠŸåœ°æ’å…¥ã€‚
randomizedSet.remove(2);   // è¿”å› false ï¼Œè¡¨ç¤ºé›†åˆä¸­ä¸å­˜åœ¨ 2 ã€‚
randomizedSet.insert(2);   // å‘é›†åˆä¸­æ’å…¥ 2 ã€‚è¿”å› true ã€‚é›†åˆç°åœ¨åŒ…å« [1,2] ã€‚
randomizedSet.getRandom(); // getRandom åº”éšæœºè¿”å› 1 æˆ– 2 ã€‚
randomizedSet.remove(1);   // ä»é›†åˆä¸­ç§»é™¤ 1 ï¼Œè¿”å› true ã€‚é›†åˆç°åœ¨åŒ…å« [2] ã€‚
randomizedSet.insert(2);   // 2 å·²åœ¨é›†åˆä¸­ï¼Œæ‰€ä»¥è¿”å› false ã€‚
randomizedSet.getRandom(); // ç”±äº 2 æ˜¯é›†åˆä¸­å”¯ä¸€çš„æ•°å­—ï¼ŒgetRandom æ€»æ˜¯è¿”å› 2 ã€‚
```

---

## ğŸ“Œ æç¤º

- `-2Â³Â¹ <= val <= 2Â³Â¹ - 1`
- æœ€å¤šè°ƒç”¨ `insert`ã€`remove` å’Œ `getRandom` å‡½æ•° `2 * 10âµ` æ¬¡
- åœ¨è°ƒç”¨ `getRandom` æ–¹æ³•æ—¶ï¼Œæ•°æ®ç»“æ„ä¸­**è‡³å°‘å­˜åœ¨ä¸€ä¸ª**å…ƒç´ 

---

## ğŸ’¡ è¯„æµ‹è¯´æ˜

è¯„æµ‹æœºä¼šæŒ‰ç…§ä»¥ä¸‹æµç¨‹éªŒè¯ä½ çš„ä»£ç ï¼š

```cpp
RandomizedSet* obj = randomizedSetCreate();
bool param_1 = randomizedSetInsert(obj, val);
bool param_2 = randomizedSetRemove(obj, val);
int param_3 = randomizedSetGetRandom(obj);
randomizedSetFree(obj);
```

**ç›®æ ‡ï¼š** è®¾è®¡ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œä½¿å¾—æ’å…¥ã€åˆ é™¤å’Œéšæœºè·å–çš„å¹³å‡æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚

---

## ğŸ¯ å…³é”®æŒ‘æˆ˜

1. **æ’å…¥ O(1)**ï¼šéœ€è¦å¿«é€Ÿåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨
2. **åˆ é™¤ O(1)**ï¼šéœ€è¦å¿«é€Ÿå®šä½å…ƒç´ ä½ç½®
3. **éšæœºè·å– O(1)**ï¼šéœ€è¦èƒ½å¤Ÿéšæœºè®¿é—®ä»»æ„ä½ç½®çš„å…ƒç´ 

**æç¤ºï¼š** å•ä¸€æ•°æ®ç»“æ„æ— æ³•åŒæ—¶æ»¡è¶³æ‰€æœ‰è¦æ±‚ï¼Œéœ€è¦ç»„åˆä½¿ç”¨å¤šç§æ•°æ®ç»“æ„ã€‚

