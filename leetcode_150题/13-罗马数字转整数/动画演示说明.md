# 动画演示使用说明

## 🎬 如何运行动画

1. **安装依赖**

```bash
pip install matplotlib numpy
```

2. **运行程序**

```bash
python 动画演示.py
```

3. **选择示例**

程序提供六个内置选项：

- 选项 1：示例 1（简单相加）  
  `s = "III"`，输出：3

- 选项 2：示例 2（特殊情况 IV）  
  `s = "IV"`，输出：4

- 选项 3：示例 3（特殊情况 IX）  
  `s = "IX"`，输出：9

- 选项 4：示例 4（混合情况）  
  `s = "LVIII"`，输出：58

- 选项 5：示例 5（复杂情况，包含多个特殊情况）  
  `s = "MCMXCIV"`，输出：1994

- 选项 6：自定义输入（支持任意有效的罗马数字字符串）

---

## 🎮 手动控制方式

| 按键 | 功能 |
|------|------|
| 空格 / → / Enter | 下一步 |
| ← | 上一步 |
| Home | 跳转到第一步 |
| End | 跳转到最后一步 |
| Q / Esc | 退出程序 |

> ⚠️ 使用键盘前，请先点击动画窗口以确保焦点在窗口上。

---

## 📊 动画元素说明

- **绿色区域**：已经处理完成的字符
- **灰色区域**：尚未处理的字符
- **黄色区域**：当前正在处理的字符
- **橙色区域**：特殊情况中需要一起处理的下一个字符（如 IV 中的 V）
- **字符上方**：显示字符本身（如 I、V、X 等）
- **字符中间**：显示字符对应的数值（如 1、5、10 等）
- **字符下方**：显示字符在字符串中的索引位置

---

## 🔁 动画流程

1. **初始化**：显示原始字符串，所有字符为灰色，result = 0

2. **遍历阶段**：
   - 高亮当前正在处理的字符（黄色）
   - 如果检测到特殊情况（当前字符值 < 下一个字符值），同时高亮下一个字符（橙色）
   - 显示当前操作：是相减（特殊情况）还是相加（正常情况）
   - 更新 result 的值

3. **处理完成**：
   - 所有字符变为绿色
   - 显示最终结果

4. **代码同步**：
   - 右侧代码面板会高亮当前执行的代码行
   - 帮助理解代码执行流程

---

## 💡 学习建议

1. **第一次观看**：选择示例 2（"IV"），观察特殊情况的处理过程
   - 注意 I(1) < V(5)，所以计算 5-1=4

2. **第二次**：选择示例 5（"MCMXCIV"），观察复杂情况
   - M(1000) → +1000
   - C(100) < M(1000) → +900
   - X(10) < C(100) → +90
   - I(1) < V(5) → +4
   - 最终：1000 + 900 + 90 + 4 = 1994

3. **第三次**：尝试自定义输入，例如：
   - "XLIX"（49）：X(10) < L(50) → +40，I(1) < X(10) → +9
   - "CMXCIX"（999）：C(100) < M(1000) → +900，X(10) < C(100) → +90，I(1) < X(10) → +9

4. **最后**：配合 `教学文档.md` 手动模拟代码流程，加深理解

---

## 🎯 关键观察点

1. **特殊情况判断**：
   - 观察何时当前字符变为黄色，下一个字符变为橙色
   - 理解"当前字符值 < 下一个字符值"的判断条件

2. **结果累加**：
   - 注意 result 值的变化过程
   - 特殊情况时，result 增加的是差值（如 5-1=4）
   - 正常情况时，result 增加的是当前字符的值

3. **索引移动**：
   - 特殊情况时，索引会跳过两个字符（i += 2）
   - 正常情况时，索引只移动一个字符（i += 1）

---

## ❓ 常见问题

- **键盘无响应？**  
  请确保点击动画窗口使其获得焦点。如果仍无效，尝试重新运行或切换 Python 终端。

- **中文显示异常？**  
  修改脚本中的 `plt.rcParams['font.sans-serif']`，换成系统可用字体。Windows 系统通常使用 'SimHei' 或 'Microsoft YaHei'。

- **无法显示窗口？**  
  在无图形界面的环境中，可以使用 `plt.savefig` 导出每一步，但更推荐在本地运行。

- **动画太快/太慢？**  
  本动画是手动控制的，你可以按照自己的节奏按空格键前进，随时可以按左箭头回退。

---

**祝学习顺利，玩得开心！** 🎉

