# 动画演示使用说明

## 🎬 如何运行动画

1. **安装依赖**

```bash
pip install matplotlib numpy
```

2. **运行程序**

```bash
python 动画演示.py
```

3. **选择示例**

程序提供五个内置选项：

- 选项 1：示例 1（有环）  
  `values = [3,2,0,-4]`, `pos = 1`

- 选项 2：示例 2（有环，环在头部）  
  `values = [1,2]`, `pos = 0`

- 选项 3：示例 3（无环）  
  `values = [1]`, `pos = -1`

- 选项 4：简单示例（有环）  
  `values = [1,2,3,4,5]`, `pos = 2`

- 选项 5：自定义输入（支持任意节点值和环位置）

---

## 🎮 手动控制方式

| 按键 | 功能 |
|------|------|
| 空格 / → / Enter | 下一步 |
| ← | 上一步 |
| Home | 跳转到第一步 |
| End | 跳转到最后一步 |
| Q / Esc | 退出程序 |

> ⚠️ 使用键盘前，请先点击动画窗口以确保焦点在窗口上。

---

## 📊 动画元素说明

- **绿色节点**：`slow` 指针当前位置
- **蓝色节点**：`fast` 指针当前位置
- **红色节点**：快慢指针相遇点
- **灰色节点**：已访问的节点
- **米色节点**：未访问的节点
- **绿色箭头**：`slow` 指针标签
- **蓝色箭头**：`fast` 指针标签
- **黑色箭头**：链表的正常连接
- **红色虚线箭头**：环的连接（从最后一个节点指向环入口）

---

## 🔁 动画流程

1. **初始化**：提示 `slow=head`、`fast=head->next`，展示链表结构

2. **指针移动**：
   - `slow` 指针每次移动一步
   - `fast` 指针每次移动两步
   - 显示每一步的指针位置

3. **检测相遇**：
   - 如果 `slow == fast`：快慢指针相遇，存在环，返回 `true`
   - 如果 `fast == NULL` 或 `fast->next == NULL`：快指针到达末尾，不存在环，返回 `false`

4. **结束提示**：展示最终判断结果（`true` 或 `false`）

---

## 💡 学习建议

1. **第一次观看**：选择示例 1，观察快慢指针如何在环中相遇

2. **第二次**：尝试示例 2，观察环在头部时的特殊情况

3. **第三次**：输入自定义测试，例如：
   - `[1,2,3,4,5]`, `pos=2`（环在中间）
   - `[1,2,3]`, `pos=-1`（无环）
   - `[1,2,3,4,5,6]`, `pos=0`（环在头部）

4. **最后**：配合 `教学文档.md` 理解 Floyd判圈算法的数学原理

---

## ❓ 常见问题

- **键盘无响应？**  
  请确保点击动画窗口使其获得焦点。如果仍无效，尝试重新运行或切换 Python 终端。

- **中文显示异常？**  
  修改脚本中的 `plt.rcParams['font.sans-serif']`，换成系统可用字体。

- **无法显示窗口？**  
  在无图形界面的环境中，可以使用 `plt.savefig` 导出每一步，但更推荐在本地运行。

- **链表太长显示不全？**  
  动画会自动调整显示范围，但如果链表过长，建议使用较短的测试用例。

- **为什么节点是圆形布局？**  
  当链表有环时，使用圆形布局可以更直观地展示环的结构。无环时使用线性布局。

---

**祝学习顺利，玩得开心！** 🎉

