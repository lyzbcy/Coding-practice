# 动画演示使用说明

## 🎬 如何运行动画

1. **安装依赖**

```bash
pip install matplotlib numpy
```

2. **运行程序**

```bash
python 动画演示.py
```

3. **选择示例**

程序提供四个内置选项：

- 选项 1：示例 1（基本相加）  
  `l1 = [2,4,3]`, `l2 = [5,6,4]` → `[7,0,8]`

- 选项 2：示例 2（零相加）  
  `l1 = [0]`, `l2 = [0]` → `[0]`

- 选项 3：示例 3（有进位）  
  `l1 = [9,9,9,9,9,9,9]`, `l2 = [9,9,9,9]` → `[8,9,9,9,0,0,0,1]`

- 选项 4：自定义输入（支持任意两个链表）

---

## 🎮 手动控制方式

| 按键 | 功能 |
|------|------|
| 空格 / → / Enter | 下一步 |
| ← | 上一步 |
| Home | 跳转到第一步 |
| End | 跳转到最后一步 |
| Q / Esc | 退出程序 |

> ⚠️ 使用键盘前，请先点击动画窗口以确保焦点在窗口上。

---

## 📊 动画元素说明

- **蓝色链表**：l1（第一个输入链表）
- **绿色链表**：l2（第二个输入链表）
- **粉色链表**：结果链表（正在构建中）
- **黄色高亮**：当前正在处理的节点位置
- **状态信息**：显示当前的 carry（进位）、sum（总和）、digit（当前位）

---

## 🔁 动画流程

1. **初始化**：
   - 创建虚拟头节点 dummy
   - 初始化 carry = 0
   - 初始化 current 指针

2. **逐位相加过程**：
   - 同时遍历两个链表
   - 计算当前位的和：sum = carry + l1.val + l2.val
   - 计算新的进位：carry = sum / 10
   - 计算当前位的值：digit = sum % 10
   - 创建新节点并连接到结果链表

3. **处理不同长度**：
   - 当一个链表遍历完时，继续处理另一个链表
   - 直到两个链表都遍历完

4. **处理最后进位**：
   - 如果最后还有进位（如 999 + 1 = 1000），创建新节点存储

5. **结果展示**：显示最终的结果链表

---

## 💡 学习建议

1. **第一次观看**：选择示例 1（[2,4,3] + [5,6,4]），观察基本的相加过程

2. **第二次**：尝试示例 3（[9,9,9,9,9,9,9] + [9,9,9,9]），重点观察：
   - 进位如何产生和传递
   - 最后如何创建新节点存储进位

3. **第三次**：尝试示例 2（[0] + [0]），理解边界情况

4. **最后**：输入自定义测试，例如：
   - `l1 = [1,2,3]`, `l2 = [4,5]`（长度不同）
   - `l1 = [9,9]`, `l2 = [1]`（有进位）
   - `l1 = [5]`, `l2 = [5]`（产生新节点）

5. **配合学习**：结合 `教学文档.md` 理解虚拟头节点和进位处理的技巧

---

## ❓ 常见问题

- **键盘无响应？**  
  请确保点击动画窗口使其获得焦点。如果仍无效，尝试重新运行或切换 Python 终端。

- **中文显示异常？**  
  修改脚本中的 `plt.rcParams['font.sans-serif']`，换成系统可用字体。

- **无法显示窗口？**  
  在无图形界面的环境中，可以使用 `plt.savefig` 导出每一步，但更推荐在本地运行。

- **链表太长显示不全？**  
  动画会自动调整显示范围，但如果链表过长，建议使用较短的测试用例。

- **为什么使用虚拟头节点？**  
  虚拟头节点可以简化边界处理，避免判断结果链表是否为空，统一处理第一个节点的创建。

- **如何理解逆序存储？**  
  逆序存储意味着低位在前、高位在后。例如 `[2,4,3]` 表示数字 342（2 是个位，4 是十位，3 是百位）。

---

**祝学习顺利，玩得开心！** 🎉

