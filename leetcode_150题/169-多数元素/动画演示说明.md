# 动画演示使用说明

## 🎬 如何运行动画

1. **安装依赖**

```bash
pip install matplotlib numpy
```

2. **运行程序**

```bash
python 动画演示.py
```

3. **选择示例**

程序提供四个内置选项：

- 选项 1：示例 1（官方示例）  
  `nums = [3,2,3]`

- 选项 2：示例 2（多次抵消过程）  
  `nums = [2,2,1,1,1,2,2]`

- 选项 3：简单示例  
  `nums = [1,1,2]`

- 选项 4：自定义输入（支持任意数组）

---

## 🎮 手动控制方式

| 按键 | 功能 |
|------|------|
| 空格 / → / Enter | 下一步 |
| ← | 上一步 |
| Home | 跳转到第一步 |
| End | 跳转到最后一步 |
| Q / Esc | 退出程序 |

> ⚠️ 使用键盘前，请先点击动画窗口以确保焦点在窗口上。

---

## 📊 动画元素说明

- **绿色区域**：数组元素等于当前候选元素 `candidate`
- **红色区域**：数组元素不等于当前候选元素 `candidate`
- **红色边框**：当前遍历位置 `i`
- **候选元素显示**：左上角显示当前的 `candidate` 和 `count` 值
- **代码高亮**：右侧代码面板会高亮当前执行的代码行

---

## 🔍 动画流程说明

1. **初始化阶段**
   - 将第一个元素设为候选 `candidate = nums[0]`
   - 初始化计数器 `count = 1`
   - 从索引 1 开始遍历

2. **遍历过程**
   - 如果 `count == 0`：更新候选元素为当前元素，重置计数器
   - 如果当前元素等于候选：计数器加 1
   - 如果当前元素不等于候选：计数器减 1（抵消）

3. **结束阶段**
   - 遍历完成后，`candidate` 就是多数元素
   - 显示最终结果

---

## 💡 学习建议

1. **观察计数器变化**：注意 `count` 如何随着遍历过程增减，理解"抵消"的概念。

2. **理解候选更新**：当 `count` 变为 0 时，为什么可以安全地更换候选元素？

3. **验证正确性**：手动统计数组中每个元素的出现次数，验证最终返回的 `candidate` 确实是多数元素。

4. **尝试边界情况**：
   - 所有元素相同：`[1,1,1,1]`
   - 多数元素在开头：`[2,2,2,1,3]`
   - 多数元素在中间：`[1,2,2,2,3]`

---

## ❓ 常见问题

**Q: 为什么计数器最终值不是多数元素的出现次数？**  
A: 因为投票算法中的计数器是用来"抵消"的，不是用来计数的。最终 `count` 只是抵消后的结果，不代表实际出现次数。

**Q: 如果数组中没有多数元素，这个算法还正确吗？**  
A: 不正确。但题目明确保证存在多数元素，所以可以直接返回 `candidate`。如果需要验证，可以二次遍历统计 `candidate` 的出现次数。

**Q: 为什么算法时间复杂度是 O(n)？**  
A: 只需要遍历一次数组，每个元素处理一次，所以是 O(n)。

**Q: 为什么空间复杂度是 O(1)？**  
A: 只使用了两个变量 `candidate` 和 `count`，不随数组大小变化，所以是 O(1)。

---

**祝学习顺利！** 🚀

