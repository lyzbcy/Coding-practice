# 动画演示使用说明

## 🎬 如何运行动画

1. **安装依赖**

```bash
pip install matplotlib numpy
```

2. **运行程序**

```bash
python 动画演示.py
```

3. **选择示例**

程序提供四个内置选项：

- 选项 1：示例 1（官方示例）  
  4个点：`(0,0), (0,1), (1,0), (1,1)`

- 选项 2：示例 2（共线点）  
  3个点：`(0,0), (1,1), (2,2)`

- 选项 3：随机分布  
  6个随机分布的点

- 选项 4：自定义输入（支持任意点集）

---

## 🎮 手动控制方式

| 按键 | 功能 |
|------|------|
| 空格 / → / Enter | 下一步 |
| ← | 上一步 |
| Home | 跳转到第一步 |
| End | 跳转到最后一步 |
| Q / Esc | 退出程序 |

> ⚠️ 使用键盘前，请先点击动画窗口以确保焦点在窗口上。

---

## 📊 动画元素说明

- **蓝色点**：左半部分的点
- **浅红色点**：右半部分的点
- **黄色点**：条带区域内的点（高亮显示）
- **红色点**：正在检查的点对
- **绿色虚线**：分割线（中线的 x 坐标）
- **黄色矩形区域**：条带区域（距离中线 d 范围内的区域）
- **红色连线**：正在检查的点对之间的连线，显示距离值

---

## 🔁 动画流程

1. **初始化**：显示所有点的分布
2. **分割阶段**：展示如何将点集按 x 坐标分成左右两部分
3. **递归阶段**：
   - 进入左半部分递归
   - 进入右半部分递归
   - 显示递归深度和区间范围
4. **合并阶段**：
   - 显示左右两部分的最短距离
   - 构建条带区域（黄色矩形）
   - 高亮条带内的点
   - 逐步检查条带内的点对
   - 显示找到的跨中线最短距离
5. **结束提示**：展示最终的最短距离

---

## 💡 学习建议

1. **第一次观看**：选择示例 1，观察分治的基本流程
   - 注意分割线如何将点集分成两部分
   - 观察递归如何深入处理子问题

2. **第二次**：尝试示例 2，理解递归终止条件
   - 当点数 ≤ 3 时使用暴力法
   - 观察如何合并左右两部分的结果

3. **第三次**：选择示例 3 或自定义输入，重点观察条带处理
   - 理解为什么只需要检查条带内的点
   - 观察"每个点最多检查 6 个点"的优化

4. **最后**：配合 `教学文档.md` 手动模拟代码流程
   - 理解时间复杂度分析
   - 掌握如何优化到 O(n log n)

---

## 🎯 关键观察点

1. **分割策略**：按 x 坐标排序后，中点将点集分成左右两部分

2. **递归终止**：当点数 ≤ 3 时，直接使用暴力法，避免过度递归

3. **条带优化**：
   - 只有跨越中线的点对才可能在条带内
   - 条带宽度为 2d（d 是左右两部分的最短距离）
   - 按 y 坐标排序后，每个点最多检查其后 6 个点

4. **合并技巧**：
   - 取左右两部分最短距离的最小值
   - 检查条带内是否有更短的距离
   - 最终结果为 min(d, stripMin)

---

## ❓ 常见问题

- **键盘无响应？**  
  请确保点击动画窗口使其获得焦点。如果仍无效，尝试重新运行或切换 Python 终端。

- **中文显示异常？**  
  修改脚本中的 `plt.rcParams['font.sans-serif']`，换成系统可用字体。

- **无法显示窗口？**  
  在无图形界面的环境中，可以使用 `plt.savefig` 导出每一步，但更推荐在本地运行。

- **动画太快或太慢？**  
  当前版本是手动控制，你可以按照自己的节奏按空格键前进。

- **条带区域看不清？**  
  黄色矩形区域表示条带，如果点太多可能重叠，可以尝试减少点数或放大窗口。

---

## 🔍 深入理解

观看动画时，建议思考以下问题：

1. 为什么条带宽度是 2d 而不是 d？
2. 为什么每个点最多检查 6 个点？（几何证明）
3. 如何优化到 O(n log n)？（维护 y 坐标有序）
4. 如果点有重复坐标会怎样？
5. 扩展到三维空间会如何？

---

**祝学习顺利，玩得开心！** 🎉

