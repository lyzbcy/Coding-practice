# 动画演示使用说明

## 🎬 如何运行动画

1. **安装依赖**

```bash
pip install matplotlib numpy
```

2. **运行程序**

```bash
python 动画演示.py
```

3. **选择示例**

程序提供四个内置选项：

- 选项 1：示例 1（官方示例）  
  `nums = [1,2,3,4,5,6,7], k = 3`

- 选项 2：示例 2（负数元素）  
  `nums = [-1,-100,3,99], k = 2`

- 选项 3：边界情况（k > n）  
  `nums = [1,2], k = 3`  
  演示 k >= numsSize 时的取模处理

- 选项 4：自定义输入（支持任意数组与 k 值）

---

## 🎮 手动控制方式

| 按键 | 功能 |
|------|------|
| 空格 / → / Enter | 下一步 |
| ← | 上一步 |
| Home | 跳转到第一步 |
| End | 跳转到最后一步 |
| Q / Esc | 退出程序 |

> ⚠️ 使用键盘前，请先点击动画窗口以确保焦点在窗口上。

---

## 📊 动画元素说明

- **浅青色区域**：前 k 个元素（轮转后位于数组前部）
- **浅绿色区域**：后 n-k 个元素（轮转后位于数组后部）
- **浅红色区域**：正在反转的区间
- **红色描边**：当前正在交换的两个位置
- **代码高亮**：同步显示当前执行的代码行

---

## 🔁 动画流程

1. **初始化**：展示原数组和参数 k、n
2. **第一次反转**：反转整个数组 `[0, n-1]`
   - 逐步展示交换过程
   - 高亮正在交换的位置
3. **第二次反转**：反转前 k 个元素 `[0, k-1]`
   - 浅蓝色区域表示前 k 个元素
   - 展示交换过程
4. **第三次反转**：反转后 n-k 个元素 `[k, n-1]`
   - 浅绿色区域表示后 n-k 个元素
   - 展示交换过程
5. **完成提示**：展示最终结果数组

---

## 💡 学习建议

1. **第一次观看**：选择示例 1，观察三次反转的完整过程
2. **第二次**：尝试示例 2，理解不同数值的处理
3. **第三次**：选择示例 3，理解 k >= n 时的取模处理
4. **最后**：输入自定义测试，例如"k=0"或"k=n"的边界情况
5. **配合学习**：结合 `教学文档.md` 理解三次反转法的数学原理

---

## 🔍 三次反转法原理

**为什么三次反转能实现轮转？**

假设原数组为 `[a1, a2, ..., ak, ak+1, ..., an]`，目标为 `[ak+1, ..., an, a1, ..., ak]`

1. **第一次反转**：`[an, ..., ak+1, ak, ..., a1]`
2. **第二次反转（前k个）**：`[ak+1, ..., an, ak, ..., a1]`
3. **第三次反转（后n-k个）**：`[ak+1, ..., an, a1, ..., ak]` ✓

通过动画可以直观看到每一步的变化过程。

---

## ❓ 常见问题

- **键盘无响应？**  
  请确保点击动画窗口使其获得焦点。如果仍无效，尝试重新运行或切换 Python 终端。

- **中文显示异常？**  
  修改脚本中的 `plt.rcParams['font.sans-serif']`，换成系统可用字体。

- **无法显示窗口？**  
  在无图形界面的环境中，可以使用 `plt.savefig` 导出每一步，但更推荐在本地运行。

- **动画太快/太慢？**  
  当前版本是手动控制，按空格键逐步播放，可以按照自己的节奏学习。

---

**祝学习顺利，玩得开心！** 🎉


